---
knit: (function(input_file, encoding) {
  out_dir <- 'docs/R';
  rmarkdown::render(input_file,
    encoding=encoding,
    output_file='simple-linear-regression.md') })
output: github_document
editor_options:
  chunk_output_type: console
---
  
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=TRUE, fig.path="img/simple-linear-regression/",
                      fig.width=6, fig.height=4,
                      fig.show='hold', fig.align='center')
options(width=100)
```

# Simple Linear Regression (SLR)

### [SLR hypotheses](https://online.stat.psu.edu/stat501/lesson/1/1.9)

&nbsp;&nbsp;&nbsp;&nbsp;**Null hypothesis:** The correlation coefficient ($\rho$) for the two variables is equal to 0.
&nbsp;
<center><i>H<sub>0</sub>: &#961; = 0</i></center>
&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;**Alternative hypothesis:** The correlation between the two variables is not equal to 0.
&nbsp;
<center><i>H<sub>A</sub>: &#961; &#8800; 0, </i>or<i> H<sub>A</sub>: &#961; &gt; 0 or &#961; &lt; 0</i></center>
&nbsp;


### [SLR assumptions](https://online.stat.psu.edu/stat501/lesson/4/4.1)

- The predictor and response variables have a **linear relationship**.
- The errors are **independent**, **normally distributed**, and have **equal variances**.

### Loading the data in R

&nbsp;&nbsp;&nbsp;&nbsp;In this example we will be using a sample dataset offered in [Example 1-2 of the STAT 501 Regression Methods course](https://online.stat.psu.edu/stat501/lesson/1/1.7) where we will fit a linear model to assess the relationship between a building's height and the number of stories that building has. First, we will need to read the file into R which has a number of functions to do so. In our case, the dataset is in a tabular format, so we will use the `read.table()` function to read the dataset into R. Note that our dataset has header information, so we should include the `header = TRUE` option.

```{r}
bldgstories <- read.table("dat/bldgstories.txt", header = TRUE)
```

&nbsp;&nbsp;&nbsp;&nbsp;Now that the dataset is loaded, you can view a brief summary of the dataset using the `summary()` function on the assigned object.

### Fitting a SLR model

&nbsp;&nbsp;&nbsp;&nbsp;To fit a linear regression model we can use the `lm()` function in R where the response variable is to the left of, and predictor variable to the right of a `~` as follows:

```{r}
fit.lm <- lm(HGHT ~ STORIES, data = bldgstories)
```

### Interpreting the results

&nbsp;&nbsp;&nbsp;&nbsp;Using the `summary()` function we can print out summary statistics of our fitted linear model.

```{r}
summary(fit.lm)
```

&nbsp;&nbsp;&nbsp;&nbsp;From the summary statistics we can fist note that the *STORIES* variable is statistically significant with a p-value that is well below 0.05, indicating that the number of stories a building has is a significant predictor of the building's height. Also, the r<sup>2</sup> correlation coefficient is very high (0.9036) and the model is statistically significant with a p-value less than 0.05, together indicating that there is a very strong linear relationship between these two variables.

### Full code block

```{r eval = FALSE}
# Load the dataset
bldgstories <- read.table("dat/bldgstories.txt", header = TRUE)

# Fit a linear model
fit.lm <- lm(HGHT ~ STORIES, data = bldgstories)

# View the results of the linear model
summary(fit.lm)
```

